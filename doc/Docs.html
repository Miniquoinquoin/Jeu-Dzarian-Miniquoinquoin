<!DOCTYPE html><html><head>
      <title>Doc</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="file:///c:\Users\User\.vscode\extensions\shd101wyy.markdown-preview-enhanced-0.6.2\node_modules\@shd101wyy\mume\dependencies\katex\katex.min.css">
      
      
      
      
      
      
      
      
      
      <style>
      /**
 * prism.js Github theme based on GitHub's theme.
 * @author Sam Clarke
 */
code[class*="language-"],
pre[class*="language-"] {
  color: #333;
  background: none;
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.4;

  -moz-tab-size: 8;
  -o-tab-size: 8;
  tab-size: 8;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

/* Code blocks */
pre[class*="language-"] {
  padding: .8em;
  overflow: auto;
  /* border: 1px solid #ddd; */
  border-radius: 3px;
  /* background: #fff; */
  background: #f5f5f5;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
  padding: .1em;
  border-radius: .3em;
  white-space: normal;
  background: #f5f5f5;
}

.token.comment,
.token.blockquote {
  color: #969896;
}

.token.cdata {
  color: #183691;
}

.token.doctype,
.token.punctuation,
.token.variable,
.token.macro.property {
  color: #333;
}

.token.operator,
.token.important,
.token.keyword,
.token.rule,
.token.builtin {
  color: #a71d5d;
}

.token.string,
.token.url,
.token.regex,
.token.attr-value {
  color: #183691;
}

.token.property,
.token.number,
.token.boolean,
.token.entity,
.token.atrule,
.token.constant,
.token.symbol,
.token.command,
.token.code {
  color: #0086b3;
}

.token.tag,
.token.selector,
.token.prolog {
  color: #63a35c;
}

.token.function,
.token.namespace,
.token.pseudo-element,
.token.class,
.token.class-name,
.token.pseudo-class,
.token.id,
.token.url-reference .token.variable,
.token.attr-name {
  color: #795da3;
}

.token.entity {
  cursor: help;
}

.token.title,
.token.title .token.punctuation {
  font-weight: bold;
  color: #1d3e81;
}

.token.list {
  color: #ed6a43;
}

.token.inserted {
  background-color: #eaffea;
  color: #55a532;
}

.token.deleted {
  background-color: #ffecec;
  color: #bd2c00;
}

.token.bold {
  font-weight: bold;
}

.token.italic {
  font-style: italic;
}


/* JSON */
.language-json .token.property {
  color: #183691;
}

.language-markup .token.tag .token.punctuation {
  color: #333;
}

/* CSS */
code.language-css,
.language-css .token.function {
  color: #0086b3;
}

/* YAML */
.language-yaml .token.atrule {
  color: #63a35c;
}

code.language-yaml {
  color: #183691;
}

/* Ruby */
.language-ruby .token.function {
  color: #333;
}

/* Markdown */
.language-markdown .token.url {
  color: #795da3;
}

/* Makefile */
.language-makefile .token.symbol {
  color: #795da3;
}

.language-makefile .token.variable {
  color: #183691;
}

.language-makefile .token.builtin {
  color: #0086b3;
}

/* Bash */
.language-bash .token.keyword {
  color: #0086b3;
}

/* highlight */
pre[data-line] {
  position: relative;
  padding: 1em 0 1em 3em;
}
pre[data-line] .line-highlight-wrapper {
  position: absolute;
  top: 0;
  left: 0;
  background-color: transparent;
  display: block;
  width: 100%;
}

pre[data-line] .line-highlight {
  position: absolute;
  left: 0;
  right: 0;
  padding: inherit 0;
  margin-top: 1em;
  background: hsla(24, 20%, 50%,.08);
  background: linear-gradient(to right, hsla(24, 20%, 50%,.1) 70%, hsla(24, 20%, 50%,0));
  pointer-events: none;
  line-height: inherit;
  white-space: pre;
}

pre[data-line] .line-highlight:before, 
pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-start);
  position: absolute;
  top: .4em;
  left: .6em;
  min-width: 1em;
  padding: 0 .5em;
  background-color: hsla(24, 20%, 50%,.4);
  color: hsl(24, 20%, 95%);
  font: bold 65%/1.5 sans-serif;
  text-align: center;
  vertical-align: .3em;
  border-radius: 999px;
  text-shadow: none;
  box-shadow: 0 1px white;
}

pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-end);
  top: auto;
  bottom: .4em;
}html body{font-family:"Helvetica Neue",Helvetica,"Segoe UI",Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ul,html body>ol{margin-bottom:16px}html body ul,html body ol{padding-left:2em}html body ul.no-list,html body ol.no-list{padding:0;list-style-type:none}html body ul ul,html body ul ol,html body ol ol,html body ol ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:bold;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:bold}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em !important;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::before,html body code::after{letter-spacing:-0.2em;content:"\00a0"}html body pre>code{padding:0;margin:0;font-size:.85em !important;word-break:normal;white-space:pre;background:transparent;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;font-size:.85em !important;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:before,html body pre tt:before,html body pre code:after,html body pre tt:after{content:normal}html body p,html body blockquote,html body ul,html body ol,html body dl,html body pre{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body pre,html body code{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview .pagebreak,.markdown-preview .newpage{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center !important}.markdown-preview:not([for="preview"]) .code-chunk .btn-group{display:none}.markdown-preview:not([for="preview"]) .code-chunk .status{display:none}.markdown-preview:not([for="preview"]) .code-chunk .output-div{margin-bottom:16px}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0}@media screen and (min-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{font-size:14px !important;padding:1em}}@media print{html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,0.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{padding:0 1.6em;margin-top:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc li{margin-bottom:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{list-style-type:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% -  300px);padding:2em calc(50% - 457px -  150px);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

      </style>
    </head>
    <body for="html-export">
      <div class="mume markdown-preview  ">
      <h1 class="mume-header" id="documentation">Documentation</h1>

<h2 class="mume-header" id="introduction">Introduction</h2>

<p>SpaceShooter est un jeu de tir en 2D vue de face. Il est d&#xE9;velopp&#xE9; en python et utilise le module <a href="http://lycee.stanislas.info.free.fr/Python/EZ/EZ.py">EZ</a>, qui a pour but de simplifier la librairie pygame et &#xE9;t&#xE9; imposer au projet dans le cadre de l&apos;enseignement de NSI.</p>
<h2 class="mume-header" id="installation">Installation</h2>

<p>Si vous ne poss&#xE8;dez pas python, ou une version inf&#xE9;rieur &#xE0; <code>python3</code>, il vous faudra <a href="https://www.python.org/downloads/">l&apos;installer</a>.</p>
<p>Si vous ne poss&#xE8;dez pas pygame:</p>
<pre class="language-text">$ pip install pygame
</pre>
<p>Si vous souhaitez outilisez l&apos;outile d&#xE9;composeur de gif, il vous vaudras aussi le module Pillow:</p>
<pre class="language-text">$ pip install Pillow
</pre>
<h2 class="mume-header" id="utilisation">Utilisation</h2>

<h3 class="mume-header" id="d%C3%A9marrage">D&#xE9;marrage</h3>

<p>Pour d&#xE9;marrer le jeu, il suffit de lancer le script <code>main.py</code> dans le terminal. Le fichier se trouve dans le dossier sources.</p>
<h3 class="mume-header" id="contr%C3%B4les">Contr&#xF4;les</h3>

<h4 class="mume-header" id="dans-les-menus">Dans les menus</h4>

<ul>
<li><strong>Echap</strong>: revenir au menu pr&#xE9;c&#xE9;dent</li>
<li><strong>Click Gauche</strong>: Pour naviger dans les menus</li>
</ul>
<h4 class="mume-header" id="en-jeu">En Jeu</h4>

<ul>
<li><strong>Click gauche</strong>/ <strong>Entrer</strong>: Tirer</li>
<li><strong>q</strong> / <strong>Fl&#xE8;che gauche</strong>: Bouger le personnage vers la gauche</li>
<li><strong>d</strong> / <strong>Fl&#xE8;che droite</strong>: Bouger le personnage vers la droite</li>
<li><strong>Espace</strong>: Sauter</li>
<li><strong>a</strong>: Utiliser l&apos;&#xE9;quipement Potion</li>
<li><strong>e</strong>: Utiliser l&apos;&#xE9;quipement Grenade</li>
<li><strong>z</strong>: R&#xE9;parer l&apos;&#xE9;quipement bouclier</li>
<li><strong>Echap</strong>: acc&#xE8;der au Menu en Jeu</li>
</ul>
<h2 class="mume-header" id="cr%C3%A9dits">Cr&#xE9;dits</h2>

<ul>
<li><strong>Programation</strong> : Heilmann Jonathan</li>
<li><strong>Graphisme</strong> / <strong>Equilibrage</strong> : Schmitt Nicolas</li>
<li><strong>Autres</strong>
<ul>
<li><a href="http://lycee.stanislas.info.free.fr/Python/EZ/EZ.py">EZ</a></li>
<li><a href="http://bof.wikia.com/wiki/List_of_Breath_of_Fire_III_Enemies">Monstres</a> : <a href="https://www.fandom.com/licensing">CC BY SA</a></li>
</ul>
</li>
</ul>
<h2 class="mume-header" id="fonctionement">Fonctionement</h2>

<p>Comment est coder le Jeu ? Comment se d&#xE9;place le Joueur ? Comment les monstre bouge t&apos;il ? Comment sont g&#xE9;rer les d&#xE9;gats ? Ou encore, comment marche la navigation au sein des menus ? ...</p>
<p>Dans cette Partie nous veront donc de quel mani&#xE8;re le Jeu est construit.</p>
<h3 class="mume-header" id="introduction-1">Introduction</h3>

<p>SpaceShooter est coder en grande partie en programation orient&#xE9; objet. Il est compos&#xE9; de plusieur class principale tel que :</p>
<ul>
<li>Joueur : G&#xE8;re les action du joueur</li>
<li>Game : G&#xE8;re le deplacement du Fond</li>
<li>Monstre : G&#xE8;re les action d&apos;un monstre</li>
<li>Arme : G&#xE8;re les armes</li>
</ul>
<p>Ces classes sont ensuite utilis&#xE9;es dans <code>IntrefaceDynamique.py</code> qui recuperer les &#xE9;venement et r&#xE9;alise les action &#xE0; l&apos;aide des class cit&#xE9; pr&#xE9;cedament ou des fonction repartie dans l&apos;ensemble des fichier python.</p>
<h3 class="mume-header" id="le-joueur">Le Joueur</h3>

<h4 class="mume-header" id="deplacement-du-joueur">Deplacement du Joueur</h4>

<p>Les d&#xE9;placements du Joueur sont illustr&#xE9; par le deplacement du Fond ce qui permet au joueur de rest&#xE9; au centre de l&apos;&#xE9;crant.</p>
<p>Le d&#xE9;calage du Fond est enregistr&#xE9; dans une variable <code>self.decal</code>, qui varie en fonction des information transmise par <code>InterfaceDynamique.py</code>.</p>
<p>De nombreux &#xE9;l&#xE9;ment peuve influencer le d&#xE9;placement du Fond:</p>
<ul>
<li>La Vitesse du Joueur</li>
<li>L&apos;acc&#xE9;leration du Joueur</li>
<li>Si le Joueur est dans les aires</li>
<li>Si le Joueur est en contacte avec un objet comme une bordure</li>
</ul>
<blockquote>
<p>cf : l.621 <a href="..%5Csources%5CFichiersJeu%5CInterface%5CEntites%5CMenu.py">Menu.py</a></p>
</blockquote>
<h4 class="mume-header" id="saut-du-joueur">Saut du Joueur</h4>

<p>Le saut lui aussi varie en Fonction du personnage. Ce qui permet une diversit&#xE9; entre les personnage.</p>
<p>Le d&#xE9;but du saut est g&#xE9;n&#xE8;rer par la remise du temps de saut au temps actuel.</p>
<pre class="language-text">def timer_saut(self):
&quot;&quot;&quot;Prend les seconde du debut du saut&quot;&quot;&quot;

self.timeSaut = EZ.clock()
</pre>
<p>Ce temps est ensuite utilis&#xE9; pour calculer la position y du joueur en fonction du temps passer depuis le d&#xE9;but du saut.</p>
<pre class="language-text">def effet_saut(self):
&quot;&quot;&quot;Trajectoir du saut du joueur&quot;&quot;&quot;

time = EZ.clock() - self.timeSaut
if self.y &lt; self.y_sol or time &lt; 0.1:
    
    self.y = self.y_sol - (self.stats[&quot;jumpPower&quot;] * 100)* (self.stats[&quot;speed&quot;] * time - ((1 + self.stats[&quot;speed&quot;]/50)**2) * 0.5 * 9.81 * time**2)

else:
    self.move_info[&quot;saut&quot;] = False
    self.y = self.y_sol
</pre>
<h4 class="mume-header" id="animation-du-joueur">Animation du Joueur</h4>

<p>L&apos;animation du Joueur est g&#xE9;n&#xE9;rer par une suite d&apos;image. Ces images sont stock&#xE9; dans plusieurs tableau suivant la direction du Joueur, g&#xE9;n&#xE9;rer au lancement du Jeux et acctualis&#xE9; &#xE0; chaque changement de personnage.</p>
<pre class="language-text">self.chargesRight = [EZ.transforme_image(EZ.charge_image(&quot;FichiersJeu\Interface\Entites\Items\Personnages\Perso1\Perso1A7.png&quot;), 0, 3),EZ.transforme_image(EZ.charge_image(&quot;FichiersJeu\Interface\Entites\Items\Personnages\Perso1\Perso1A8.png&quot;), 0, 3),EZ.transforme_image(EZ.charge_image(&quot;FichiersJeu\Interface\Entites\Items\Personnages\Perso1\Perso1A9.png&quot;), 0, 3)]
self.chargesLeft = [EZ.transforme_image(EZ.charge_image(&quot;FichiersJeu\Interface\Entites\Items\Personnages\Perso1\Perso1A4.png&quot;), 0, 3),EZ.transforme_image(EZ.charge_image(&quot;FichiersJeu\Interface\Entites\Items\Personnages\Perso1\Perso1A5.png&quot;), 0, 3),EZ.transforme_image(EZ.charge_image(&quot;FichiersJeu\Interface\Entites\Items\Personnages\Perso1\Perso1A6.png&quot;), 0, 3)]
</pre>
<p>Ces images d&#xE9;file ensuite plus ou moin vite en fonction de la vitesse du joueur.</p>
<h4 class="mume-header" id="arme-du-joueur">Arme du Joueur</h4>

<p>Lorsque le joueur tire, son arme est envoyer dans la direction qu&apos;il regarde ou en direction du monstre le plus proche ( <em>cf: l.656 <a href="../sources/FichiersJeu/InterfaceDynamique.py">InterfaceDynamique.py</a></em>)</p>
<p>L&apos;arme comme annonc&#xE9; dans l&apos;introduction, est g&#xE9;r&#xE9; par la class <code>Arme</code> est au m&#xEA;me moment que le personnage. La class r&#xE9;cup&#xE8;re les information du joueur au moment du tire. Pour ensuite d&#xE9;placer et animer l&apos;arme.</p>
<pre class="language-text">def Setup(self, x, y, direction, inertie = 0):
    &quot;&quot;&quot;Charge les info au moment du lancement de l&apos;attack

    Args:
        x (int): cordonner x du joueur
        y (int): coordonne y du joueur
        direction (str): direction du joueur / dans le quel va aller l&apos;arme
        inertie (float): vitesse du jouer
    &quot;&quot;&quot;
    self.y = y + self.hauteurTir
    

    self.durability[1] = self.durability[0] # repart l&apos;arme
    self.Break = False

    self.direction = direction
    self.inertie = inertie

    self.damage[&quot;damage&quot;] = self.damage[&quot;basicDamage&quot;] * (1+abs(inertie)/5)

    if direction == &quot;right&quot;:
        self.range[1] = self.range[0] * (1 + inertie/10) # donne une range plus grand quand le joueur court / give a range bigger when the player is running
        self.RotationSpeed[1] = 0 if self.RotationSpeed[0] != 0 else 180 # Rotation de l&apos;arme si l&apos;arme a une rotation / rotate the weapon if the weapon has a rotation

        self.xSetup = x
        self.x = x
    
    else:
        self.range[1] = self.range[0] * (1 - inertie/10) # donne une range plus grand quand le joueur cour / give a range bigger when the player is running
        self.RotationSpeed[1] = -90 if self.RotationSpeed[0] != 0 else 0 # Rotation de l&apos;arme si l&apos;arme a une rotation / rotate the weapon if the weapon has a rotation

        self.xSetup = x - self.hitbox[0] # position de l&apos;arme - self.hitbox[0] pour que l&apos;arme soit a gauche du joueur / position of the weapon - self.hitbox[0] to make the weapon to the left of the player
        self.x = x - self.hitbox[0] #        ^^^^^^^^
</pre>
<p>Son d&#xE9;placement et sa rotation est g&#xE9;r&#xE9; par :</p>
<pre class="language-text">def move(self, vitesse, vitesseFond, direction):
    &quot;&quot;&quot;Deplace l&apos;arme

    Args:
        vitesse (int): vitesse de l&apos;arme definie dans CaracteristiqueJoueur
        vitesseFond (float): vitesse de deplacement du fond
        direction (str): direction de l&apos;arme
    &quot;&quot;&quot;
    if direction == &quot;right&quot;:
        self.x += vitesse - vitesseFond + self.inertie
        self.RotationSpeed[1] -= self.RotationSpeed[0]
        self.charges = EZ.transforme_image(self.chargesB, self.RotationSpeed[1], 1)

    else:
        self.x -= vitesse + vitesseFond - self.inertie
        self.RotationSpeed[1] += self.RotationSpeed[0]
        self.charges = EZ.transforme_image(self.chargesB, self.RotationSpeed[1], 1)

    self.xSetup -= vitesseFond
</pre>
<p>Nous verons par la suite comment elle inflige des d&#xE9;gats.</p>
<h4 class="mume-header" id="statistique-du-joueur">Statistique du Joueur</h4>

<p>Chaque personnage &#xE0; des sta...</p>
<h3 class="mume-header" id="monstre">Monstre</h3>

<h4 class="mume-header" id="g%C3%A9n%C3%A9ration-des-monstre">G&#xE9;n&#xE9;ration des monstre</h4>

<p>Les monstres sont g&#xE9;n&#xE9;rer en d&#xE9;but de vague. Leur mode de g&#xE9;n&#xE9;ration depent du mode de Jeu choisie.</p>
<ul>
<li>
<p><strong>Mode Campagne :</strong></p>
<p>Les monstres sont g&#xE9;n&#xE9;rer en fonction d&apos;un fichier csv popre &#xE0; chaque map.</p>
<blockquote>
<p>cf: Dossier <a href="../sources/FichiersJeu/InfoWave">InfoWave</a></p>
</blockquote>
<p>Chaque fichier contient les information suivante pour chaque vague:</p>
<ul>
<li>Nom des monstres &#xE0; g&#xE9;n&#xE9;rer</li>
<li>combien de fois chaque monstre doit &#xEA;tre g&#xE9;n&#xE9;rer</li>
<li>Le Type du monstre <em>(&quot;COMMON&quot;, &quot;HEAL&quot;, &quot;SHOOTER&quot;, ...)</em></li>
</ul>
</li>
<li>
<p><strong>Mode Infini :</strong></p>
<p>Les monstres sont g&#xE9;n&#xE9;r&#xE9;s al&#xE9;atoirement. D&apos;apr&#xE8;s le num&#xE9;ro de vague et la map choisie. Les monstres disponibles dans chaque map sont donn&#xE9;s dans le fichier <code>AllMobe.csv</code><br>
<br></p>
</li>
</ul>
<p>Les informations transmises sont trait&#xE9; dans le fichier <code>InterfaceDynamique.py</code> est stock&#xE9; dans une liste qui est ensuite utilis&#xE9; pour acc&#xE9;der aux monstres.</p>
<h4 class="mume-header" id="le-deplacement-des-monstres">Le deplacement des monstres</h4>

<p>Les monstre se d&#xE9;place en direction du joueur, la position du joueur leur est transmis au moment de leur g&#xE9;neration. Pour rapel le joueur ne bouge pas, c&apos;est le fond qui bouge.</p>
<pre class="language-text">def move(self, vitesseFond):
    &quot;&quot;&quot;Deplace le monstre en fonction de la position du joueur

    Args:
        vitesseFond (float): deplacement du fond
    &quot;&quot;&quot;
    

    if self.x &lt; self.xPlayer - 20: # -20 : evite que le montres reste sur le joueur est fait plein de droit gauche
        self.move_info[&quot;right&quot;] = True
        self.move_info[&quot;left&quot;] = False
    
    elif self.x &gt; self.xPlayer + 20: # +20: Meme raison
        self.move_info[&quot;left&quot;] = True 
        self.move_info[&quot;right&quot;] = False
</pre>
<h4 class="mume-header" id="les-effet-des-monstres">Les effet des monstres</h4>

<p>Les monstres comme le joueur ont un effet de vie, grace &#xE0; une succession d&apos;images.</p>
<pre class="language-text">def __charge(self,nb_image):
    &quot;&quot;&quot;Charges les image du monstre et definit sa taille&quot;&quot;&quot;  

    self.chargesRight = [EZ.charge_image(f&quot;FichiersJeu/Interface/Entites/Items/Monstres/{self.name}/base/{self.name}_{image}.png&quot;) for image in range(nb_image)]
    self.chargesLeft = [EZ.charge_image(f&quot;FichiersJeu/Interface/Entites/Items/Monstres/{self.name}/reverse/{self.name}_reverse_{image}.png&quot;) for image in range(nb_image)]
    self.hitbox = [EZ.dimension(self.chargesRight[0])[0], EZ.dimension(self.chargesRight[0])[1]]
</pre>
<p><strong>Note :</strong> La suite d&apos;images des monstre est &#xE0; l&apos;origine un gif.</p>
<p>Les Fonction <code>moveEffectRight</code> et <code>moveEffectLeft</code> sont utilis&#xE9; pour faire d&#xE9;filer les images.</p>
<blockquote>
<p>Cf : l.90 <code>Monstre.py</code></p>
</blockquote>
<h3 class="mume-header" id="gestion-des-d%C3%A9gat">Gestion des d&#xE9;gat</h3>

<h4 class="mume-header" id="les-hitbox">Les hitbox</h4>

<p>Tout les entit&#xE9;s du jeu ont une hitbox. Celle-ci est d&#xE9;finie en fonction de la taile de l&apos;objet.</p>
<p><img src="ElementDoc/HitBox.png" alt="Image HitBox"></p>
<h4 class="mume-header" id="les-d%C3%A9gat">Les d&#xE9;gat</h4>

<p>Des d&#xE9;gat sont donn&#xE9; &#xE0; une entit&#xE9;, si celle-ci est touch&#xE9; par une autre qui a pour but de l&apos;attaquer.</p>
<pre class="language-text">def VerifDegat(monstres, armesJoueur, Joueur, Shooters = 0):
    &quot;&quot;&quot; function to check if the player is hit by the monsters and if monstre is hit by the player
    Fonction qui compare la position des different ellement et mets des degat si nessesaire
    
    Args:
        monstres(list): Liste de tout les monstre en vie
        armes(list): Arme du joueur
    
    &quot;&quot;&quot;
    mobKill = 0 # monstre kill in function / monstre tu&#xE9; dans la fonction
    # Arme sur monstre
    for i,monstre in enumerate(monstres):
        for arme in armesJoueur:
            if Verifzone(monstre, arme[&quot;arme&quot;]):
                monstre.domage(arme[&quot;arme&quot;].damage[&quot;damage&quot;])
                arme[&quot;arme&quot;].use()

        if monstre.death():
            monstres.pop(i)
            mobKill += 1

    # Monstres sur Joueur
        if Verifzone(Joueur, monstre):
            if monstre.attaque():
                Joueur.domage(monstre.stats[&quot;damage&quot;]) # Inflige les degat au joueur

    for shooter in Shooters:
        if Verifzone(Joueur, shooter.arme[&quot;arme&quot;]):
            Joueur.domage(shooter.arme[&quot;arme&quot;].damage[&quot;damage&quot;])
            shooter.arme[&quot;arme&quot;].use()

    
    if Joueur.death():
        return monstres, False, mobKill

    return monstres, True, mobKill
</pre>
<h3 class="mume-header" id="les-%C3%A9quipements">Les &#xE9;quipements</h3>

<p>Les &#xE9;quipements sont des objets qui peuvent &#xEA;tre acheter par le joueur dans le menu &#xE9;quipements. Ils en existe trois: <strong>Bouclier</strong>, <strong>Grenade</strong> et <strong>Potion de soin</strong>. Il peuve chaqu&apos;un &#xEA;tre am&#xE9;lior&#xE9; en dans diff&#xE9;rent aspect de fa&#xE7;on indepentante, attention tout de m&#xEA;me au prix de l&apos;am&#xE9;lioration qui est d&#xE9;finie par le nombre d&apos;am&#xE9;liorations que le joueur a effectu&#xE9; sur l&apos;objet ainsi que le prix d&apos;achat de l&apos;objet.</p>
<p><img src="ElementDoc/Equipement.png" alt="Menu de Selectition des Personnages Gif"></p>
<h4 class="mume-header" id="le-bouclier">Le Bouclier</h4>

<p>Le bouclier permet au joueur d&apos;annuler les d&#xE9;gat des monstres pendant un certain nombres de coups. Il se repart automatique quand il est cass&#xE9;, mets aussi en appuient sur la touche &quot;<strong>z</strong>&quot; du clavier. Le bouclier peut &#xEA;tre acheter pour la somme de 10 000 pi&#xE8;ces d&apos;or, et peut &#xEA;tre am&#xE9;liorer en Ressistance et temps de r&#xE9;paration.</p>
<h4 class="mume-header" id="la-grenade">La Grenade</h4>

<p>La grenade est un objet qui permet au joueur de mettre un grands nombre de d&#xE9;gat &#xE0; plusieurs monstres dans une zone. Elle est r&#xE9;utilisable apr&#xE8;s un temps donn&#xE9;. Elle est achetable pour la somme de 2500 pi&#xE8;ces d&apos;or, et peut &#xEA;tre am&#xE9;lior&#xE9; en temps de r&#xE9;paration, d&#xE9;gats et en rayon de zone de l&apos;explosion.</p>
<p>La grenade est particuli&#xE8;rement utile pour les monstres qui sont trop nombreux pour &#xEA;tre attaqu&#xE9;, mets aussi pour les montres que l&apos;armes du personnage ne touche pas. Sans oubliza que son grand nombre de d&#xE9;gat est aussi utile contre les boss.</p>
<p>Pour lanc&#xE9;e la grenade il faut appuyer sur la touche &quot;<strong>e</strong>&quot; du clavier.</p>
<h4 class="mume-header" id="la-potion-de-soin">La Potion de soin</h4>

<p>La potion de soin est un objet qui permet au joueur de soigner son personnage. Elle est achetable pour la somme de 5000 pi&#xE8;ces d&apos;or, et peut &#xEA;tre am&#xE9;lior&#xE9; en temps de remplissage et en soin.<br>
Pour utiliser la potion il faut appuyer sur la touche &quot;<strong>a</strong>&quot; du clavier.</p>
<h3 class="mume-header" id="les-d%C3%A9placements-dans-les-menus">Les D&#xE9;placements dans les menus</h3>

<h4 class="mume-header" id="menu-fixe">Menu Fixe</h4>

<p>Dans les menus fixe (Menu ou les boutons ne se d&#xE9;place pas sur l&apos;&#xE9;crant), les coordoners des bouton reste constant. Ainsi il soufit de r&#xE9;cuperer les coordonners de la souris si un click gauche est effectu&#xE9;.</p>
<p>EZ permmet de le faire simplement :</p>
<pre class="language-text">evenement = EZ.recupere_evenement()
elif evenement == &quot;SOURIS_BOUTON_GAUCHE_ENFONCE&quot;:
</pre>
<p>Il reste plus qu&apos;a verifier si le click &#xE9;tait sur un bouton, pour sa quelques conditions et le tour est jou&#xE9;.</p>
<pre class="language-text">if 435 &lt; EZ.souris_x() &lt; 845 and 595 &lt; EZ.souris_y() &lt; 710: # Bouton &apos;Nom du bouton&apos;
</pre>
<p>Sans oubli&#xE9; de renvoyer vers l&apos;interface demander. Ex: <code>menuShop()</code></p>
<h4 class="mume-header" id="menu-slide">Menu Slide</h4>

<p>Les menus Slide(Translation sur un axe), sont des menus ou l&apos;utilisateur a la posibiliter de naviguer de droit &#xE0; gauche. Les coordonn&#xE9;e des bouton sont donc variable.</p>
<p>Ex: Menu de Selection des Personnages<br>
<img src="ElementDoc/MenuSlidePersonnages.gif" alt="Menu de Selectition des Personnages Gif"></p>
<p>L&apos;affichage des menus Slide est g&#xE9;rer par la class m&#xE8;re <code>SlideMenu</code> <code>cf: l.196 Menu.py</code>.</p>
<p>Le d&#xE9;placement au sein du Menu est g&#xE9;rer de la mani&#xE8;re suivante <code>cf: 562 InterfaceDynamique.py</code>:</p>
<pre class="language-text">x = 100 # Corespond au d&#xE9;calage du menu vers la droite
xLast = 0 # dernier coordonner x de la souris
click = False # True si le click est enfonc&#xE9; sinon False

while True:
    evenement = EZ.recupere_evenement()

    elif evenement == &quot;SOURIS_BOUTON_GAUCHE_ENFONCE&quot;:
        click = True
        xLast = EZ.souris_x()
    
    elif evenement == &quot;SOURIS_BOUTON_GAUCHE_RELACHE&quot;:
        click = False
    
    if click and evenement == &quot;SOURIS_MOUVEMENT&quot;:
        decalage = xLast - EZ.souris_x()
        if -MenuShopUpgradeWeaponSlide.largeurAllCadre + LONGEUR - 100 + decalage &lt;= x &lt;= 100  + decalage: 
            x -= decalage
            xLast = EZ.souris_x()
</pre>
<p>Ainsi pour savoir sur quel bouton l&apos;utilisateur a clicker, on ajoute x (le d&#xE9;clage du menu) au coordonner des extremiter du bouton. Et comme pour les menu fixe on utilise de simple condition, &#xE0; la seul diff&#xE9;rence que pour les menus slide les coordonn&#xE9;es des bouton son calculer, en effet tout les bouton on la m&#xEA;me taille, et son placer les un &#xE0; coter de l&apos;autre.</p>
<pre class="language-text">xSouris = EZ.souris_x()
for cadre in range(len(MenuShopUpgradeWeaponSlide.chargesWeapons)):
    if cadre * MenuShopUpgradeWeaponSlide.largeurCadrePlusEspace + x &lt; xSouris &lt; cadre * MenuShopUpgradeWeaponSlide.largeurCadrePlusEspace + x + MenuShopUpgradeWeaponSlide.largeurCadre: # check if the click is in a box / verifie si le click est dans un cadre
        leave = menuShopUpgradeWeapon(gold, int(MenuShopUpgradeWeaponSlide.getListPersonnage()[cadre].split(&quot;Personnage&quot;)[-1])-1)
</pre>
<h4 class="mume-header" id="menu-carte-slide-2d">Menu Carte (Slide 2D)</h4>

<p>Les Menu Carte fonctionnent de la m&#xEA;me mani&#xE8;re que les menus silde, &#xE0; la seul diff&#xE9;rence qu&apos;ils enregistrent aussi le d&#xE9;placement y, de la mani&#xE8;re que font les menus slide pour les d&#xE9;placement en x.</p>
<h3 class="mume-header" id="sauvegarde-des-information">Sauvegarde des information</h3>

<p>Toutes les information de l&apos;avancer dans le jeu, sont stocker dans le fichier <code>InfoGen.csv</code>. C&apos;est information son ensuite lue est modifier par les fonction des fichiers <code>ReadInfo.py</code> et <code>SaveInfo.py</code> qui utilise le module csv de python.</p>
<h4 class="mume-header" id="lecture-des-informations">Lecture des informations</h4>

<p>Comme dit au-dessus les information du fichier son r&#xE9;cuper grace au fonction du fichier <code>ReadInfo.py</code></p>
<p>Exemple avec la fonction <code>ReadInventaire</code>, qui utilise la methode <code>reader</code> et eregistre les information des personnages ligne par ligne dans un dictionnaire.</p>
<pre class="language-text">def ReadInventaire():
    &quot;&quot;&quot;Read the level of the Cracters and Caracters Weapons
    li les niveau des personnage et des armes&quot;&quot;&quot;

    inventaire = {}
    with open(&quot;FichiersJeu\InfoJoueur\InfoGen.csv&quot;, &apos;r&apos;, newline=&apos;&apos;) as csvInfo:
        reader = csv.reader(csvInfo, delimiter=&apos;:&apos;)
        for row in reader:
            if &quot;Personnage&quot; in row[0]:
                inventaire.update({row[0]:[ True if row[1] == &quot;True&quot; else False, int(row[2]), int(row[3])]})

    return inventaire
</pre>
<h4 class="mume-header" id="modification-des-information">Modification des information</h4>

<p>Comme dit au-dessus les information du fichier son r&#xE9;cuper grace au fonction du fichier <code>SaveInfo.py</code></p>
<p>Le module csv ne permet pas la modification d&apos;une ligne, il faut donc enregistr&#xE9; l&apos;ensemble du fichier dans une liste est modifier les information souhaitez.</p>
<pre class="language-text">with open(&quot;FichiersJeu\InfoJoueur\InfoGen.csv&quot;, &apos;r&apos;) as csvInfo:
    reader = csv.reader(csvInfo, delimiter=&apos;:&apos;)
    File = []
    for row in reader:
        if row[0] == equipement:
            row[1] = row[1].replace(row[1], &quot;True&quot;)
    
        File.append(row)
</pre>
<p>Ensuite il suffit de re &#xE9;crire l&apos;ensemble du fichier csv, &#xE0; partir de la liste enregistr&#xE9; pr&#xE9;cedament.</p>
<pre class="language-text">with open(&quot;FichiersJeu\InfoJoueur\InfoGen.csv&quot;, &apos;w&apos;, newline=&apos;&apos;) as csvInfo:
    Writer = csv.writer(csvInfo, delimiter=&apos;:&apos;)
    for row in File:
        Writer.writerow(row)
</pre>
<h3 class="mume-header" id="son">Son</h3>

<p>Le jeu est accompagn&#xE9; de son, pour amm&#xE9;liorer l&apos;immersion dans le jeu. Cela peut &#xEA;tre de la musique, ou encore des bruitage.</p>
<h4 class="mume-header" id="bruitages">Bruitages</h4>

<p>EZ permet aussi de joueur des bruitages, il faut utiliser la fonction <code>joue_son()</code> pour cela. Sans oubliez de charger le fichier son au paravant avec la fonction <code>charge_son()</code>.</p>
<p>Exemple :</p>
<pre class="language-text">son = charge_son(&quot;FichiersSon\Bruitages\Bruitage.wav&quot;)
joue_son(son)
</pre>
<h4 class="mume-header" id="musique">Musique</h4>

<p>Comme pour les bruitage pour jouer de la musique on utilise le module EZ. On utilise respectivement les fonctions <code>charge_musique()</code> et <code>musique_on()</code> pour charger et jouer la musique.</p>
<p>Pour stopper la musique on utilise <code>musique_pause()</code>, pour la reprendre <code>musique_fin_pause()</code> et pour la modifier le volume <code>musique_volume()</code>.</p>
<p>Exemple:</p>
<pre class="language-text">musique = charge_musique(&quot;FichiersSon\Musique\Musique.wav&quot;)
musique_on()
musique_volume(0.5)
musique_pause()
musique_fin_pause()
musique_volume(1)
</pre>

      </div>
      
      
    
    
    
    
    
    
    
    
  
    </body></html>